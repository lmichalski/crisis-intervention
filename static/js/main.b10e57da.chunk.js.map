{"version":3,"sources":["fnt/Roboto-Regular.ttf","pages/Menu.tsx","pages/Objectives.tsx","pages/Intro.tsx","hooks/useLogGameEvent.tsx","util.ts","pages/Decision.tsx","pages/Video.tsx","pages/Credits.tsx","pages/Instructions.tsx","pages/Feedback.tsx","pages/Settings.tsx","pages/Summary.tsx","pages/Transition.tsx","pages/Materials.tsx","hooks/useStorage.ts","hooks/useGameState.ts","App.tsx","hooks/useGameData.ts","reportWebVitals.ts","index.tsx"],"names":["Menu","startNewGame","resumeGame","gamesaved","strings","className","title","onClick","id","defaultMessage","description","to","Objectives","tagName","Intro","history","useHistory","useState","currentMessage","setCurrentMessage","intro","introCards","skipToNext","useCallback","length","n","push","text","LoggingContext","React","createContext","eventLog","pushEvent","event","this","LoggingContextProvider","props","Provider","value","useLogGameEvent","loggingContext","useContext","userUuid","undefined","level","type","target","label","data","game","user","datetime","Date","console","log","useGotoMenu","logGameEvent","Decision","decisionPoint","onOptionChosen","gotoMenu","dp","message","options","randomizedOptions","optionBoxes","useMemo","map","opt","next","replayVideo","tabIndex","Video","onVideoFinished","videoposition","setVideoposition","location","useLocation","videoRef","useRef","iframeRef","skipVideo","time","video","vimeo_url","current","api","videojs","dispose","currentTime","useEffect","handleUserKeyPress","e","keyCode","preventDefault","pathname","goBack","paused","play","pause","window","addEventListener","removeEventListener","iframe","clip","bufferLength","sources","src","subtitles","kind","srclang","ready","on","duration","doc","document","getElementById","style","display","load","player","Player","getVideoTitle","then","ref","frameBorder","allow","allowFullScreen","Credits","Instructions","minSteps","Feedback","goNext","role","feedback","Settings","name","htmlFor","Roboto","require","default","Font","register","family","format","Summary","gameProgress","decisionPoints","completed","goToMenu","progress","i","find","option","question","answer","correct","filter","toFixed","fontWeight","pdfContent","responses","color","fontFamily","fontSize","lineHeight","backgroundColor","paddingBottom","borderBottom","fileName","blob","url","loading","error","Transition","playNextVideo","Materials","href","download","isLocalStorageAvailable","str","localStorage","setItem","removeItem","cookies","put","key","maxAge","cookie","get","cname","ca","decodeURIComponent","split","c","charAt","substring","indexOf","remove","VHEStorage","set","getItem","setObject","o","JSON","stringify","getObject","r","parse","useGameState","storageKey","loaded","uuid","d","getTime","performance","now","replace","Math","random","floor","toString","generateUUID","setGamesaved","currentStep","setCurrentStep","setProgress","fullscreen","newGame","selectOption","nextId","ps","App","gameData","locale","er_game_data","useGameData","useIntl","gameState","decisionpoints","lastDecisionPoint","currentDecisionPoint","handleStartNewGame","isIE","documentMode","opr","addons","opera","navigator","userAgent","InstallTrigger","test","HTMLElement","safari","pushNotification","StyleMedia","chrome","webstore","runtime","getBrowser","handleResumeGame","handleOptionChosen","handleVideoFinished","path","menu","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","messages","enMessages","ReactDOM","render","StrictMode","defaultLocale","basename"],"mappings":"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","file":"static/js/main.b10e57da.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Roboto-Regular.a8d6ac03.ttf\";","import { FormattedMessage } from \"react-intl\";\nimport { Link } from \"react-router-dom\";\nimport \"./Menu.scss\";\n\ninterface iProps {\n  startNewGame: () => void;\n  resumeGame: () => void;\n  gamesaved: boolean;\n  strings: {\n    title: string\n  }\n}\n\nconst Menu: React.FC<iProps> = ({ startNewGame, resumeGame, gamesaved, strings }) => {\n  return (\n    <div className=\"container\">\n      <div className=\"panel menu\">\n        <header>\n          <h1>{strings.title}</h1>\n        </header>\n        <div className=\"main\">\n          <div className=\"content\">\n            <ul className=\"controls\">\n              <li>\n                <button className=\"Link\" onClick={startNewGame}>\n                  <FormattedMessage\n                    id=\"Menu.newGame\"\n                    defaultMessage=\"New Game\"\n                    description=\"New Game Button\"\n                  />\n                </button>\n              </li>\n              <li>\n                <button\n                  className={`Link ${gamesaved ? \"active\" : \"disabled\"}`}\n                  onClick={resumeGame}\n                >\n                  <FormattedMessage\n                    id=\"Menu.resumeGame\"\n                    defaultMessage=\"Resume Game\"\n                    description=\"Resume Game Button\"\n                  />\n                </button>\n              </li>\n              <li>\n                <Link to=\"/objectives/\">\n                  <FormattedMessage\n                    id=\"Menu.objectives\"\n                    defaultMessage=\"Learning Objectives\"\n                    description=\"Objectives Button\"\n                  />\n                </Link>\n              </li>\n              <li>\n                <Link to=\"/settings/\">\n                  <FormattedMessage\n                    id=\"Menu.gameOptions\"\n                    defaultMessage=\"Game Options\"\n                    description=\"Options Button\"\n                  />\n                </Link>\n              </li>\n              <li>\n                <Link to=\"/instructions/\">\n                  <FormattedMessage\n                    id=\"Menu.instructions\"\n                    defaultMessage=\"How to Play\"\n                    description=\"How to Play Button\"\n                  />\n                </Link>\n              </li>\n              <li>\n                <Link to=\"/materials/\">\n                  <FormattedMessage\n                    id=\"Menu.materials\"\n                    defaultMessage=\"Self-Assessment\"\n                    description=\"Link to self-assessment materials\"\n                  />\n                </Link>\n              </li>\n              <li>\n                <Link to=\"/credits/\">\n                  <FormattedMessage\n                    id=\"Menu.credits\"\n                    defaultMessage=\"Credits\"\n                    description=\"Credits Button\"\n                  />\n                </Link>\n              </li>\n              <li>\n                <Link to=\"../\">\n                  <FormattedMessage\n                    id=\"Menu.exit\"\n                    defaultMessage=\"Exit Game\"\n                    description=\"Exit Game Button\"\n                  />\n                </Link>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Menu;\n","import { FormattedMessage } from \"react-intl\";\nimport { Link } from \"react-router-dom\";\nimport \"./Objectives.scss\";\n\nconst Objectives: React.FC<{}> = () => {\n  return (\n    <div className=\"container\">\n      <div className=\"panel info\">\n        <header>\n          <h1>\n            <Link to=\"/\" aria-label=\"Return to menu\">\n              <span className=\"icon-arrow-left\"></span>\n            </Link>\n            <FormattedMessage\n              id=\"Objectives.title\"\n              defaultMessage=\"Learning Objectives\"\n              description=\"Learning Objectives title\"\n            />\n          </h1>\n        </header>\n        <div className=\"main\">\n          <div className=\"content cf\">\n            <FormattedMessage\n              id=\"objectives.paragraph\"\n              defaultMessage=\"The game promotes the application of knowledge and skills related to the assessment of a prenatal woman.\"\n              description=\"Game objectives intro paragraph\"\n              tagName=\"p\"\n            />\n\n            <FormattedMessage\n              id=\"objectives.paragraph2\"\n              defaultMessage=\"The learning objectives of this simulation game are to: \"\n              description=\"Game objectives second paragraph\"\n              tagName=\"p\"\n            />\n            <ul>\n              <li>\n                Apply knowledge of physical and psychosocial prenatal nursing\n                assessment.\n              </li>\n              <li>\n                Identify normal findings, abnormal variations and potential\n                complications during a prenatal visit.\n              </li>\n              <li>\n                Demonstrate therapeutic interventions when caring for a pregnant\n                woman.\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Objectives;\n","import { useCallback, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./Intro.scss\";\n\ninterface iProps {\n  strings: {\n    introCards: string[]\n  }\n}\n\nconst Intro: React.FC<iProps> = ({strings}) => {\n  const history = useHistory();\n  const label = \"Next\";\n\n  const [currentMessage, setCurrentMessage] = useState(0);\n  const intro = strings.introCards;\n\n  const skipToNext = useCallback(() => {\n    if (currentMessage < intro.length - 1) {\n      setCurrentMessage((n) => n + 1);\n    } else {\n      history.push(\"/video/\");\n    }\n  }, [currentMessage, history, intro.length]);\n\n  const text = intro[currentMessage];\n\n  return (\n    <div className=\"container\">\n      <div className=\"panel intro\">\n        <div className=\"main\">\n          <div className=\"content\">{text}</div>\n        </div>\n        <footer>\n          <p className=\"controls\">\n            <button className=\"button\" onClick={skipToNext}>\n              {label}\n            </button>\n          </p>\n        </footer>\n      </div>\n    </div>\n  );\n};\n\nexport default Intro;\n","import React, { useCallback, useContext } from \"react\";\n\ninterface Event {\n  game: string;\n  level: string;\n  type: string;\n  target: string;\n  label?: string;\n  data?: string | number;\n  user?: string;\n  datetime: Date;\n}\n\nconst emptyLoggingContext = () => ({\n  eventLog: [] as Event[],\n  pushEvent(event: Event) {\n    this.eventLog.push(event);\n  },\n});\n\nconst LoggingContext = React.createContext(emptyLoggingContext());\n\nexport const LoggingContextProvider: React.FC = (props) => {\n  return <LoggingContext.Provider value={emptyLoggingContext()} {...props} />;\n};\n\nconst useLogGameEvent = () => {\n  const loggingContext = useContext(LoggingContext);\n  const userUuid = undefined; // useUser().uuid\n\n  function logGameEvent(\n    level: string,\n    type: string,\n    target: string,\n    label?: string,\n    data?: string | number\n  ) {\n    loggingContext.pushEvent({\n      game: \"app.name\",\n      level: level,\n      type: type,\n      target: target,\n      label: label,\n      data: data,\n      user: userUuid,\n      datetime: new Date(),\n    });\n\n    console.log(loggingContext.eventLog);\n  }\n\n  return useCallback(logGameEvent, [loggingContext, userUuid]);\n};\n\nexport default useLogGameEvent;\n","import { useCallback } from \"react\";\nimport { useHistory } from \"react-router\";\nimport useLogGameEvent from \"./hooks/useLogGameEvent\";\n\nexport function generateUUID(): string {\n  var r: string;\n  let d = new Date().getTime();\n  if (\n    typeof performance !== \"undefined\" &&\n    typeof performance.now === \"function\"\n  ) {\n    d += performance.now(); //use high-precision timer if available\n  }\n  r = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n    var r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === \"x\" ? r : (r & 0x3) | 0x8).toString(16);\n  });\n  return r;\n}\n\nexport const useGotoMenu = () => {\n  const history = useHistory();\n  const logGameEvent = useLogGameEvent();\n\n  const gotoMenu = useCallback(() => {\n    logGameEvent(\"\", \"open\", \"menu\", \"\", \"\");\n    history.push(\"/\");\n  }, [history, logGameEvent]);\n  return gotoMenu;\n};\n\nexport function getBrowser() {\n  var browser, isIE;\n  // @ts-ignore\n  isIE = /*@cc_on!@*/ false || !!document.documentMode;\n\n  // @ts-ignore\n  if (\n    // @ts-ignore\n    (!!window.opr && !!opr.addons) ||\n    // @ts-ignore\n    !!window.opera ||\n    navigator.userAgent.indexOf(\" OPR/\") >= 0\n  ) {\n    browser = \"Opera\";\n\n    // @ts-ignore\n  } else if (typeof InstallTrigger !== \"undefined\") {\n    browser = \"Firefox\";\n    // @ts-ignore\n  } else if (\n    // @ts-ignore\n    /constructor/i.test(window.HTMLElement) ||\n    (function (p) {\n      return p.toString() === \"[object SafariRemoteNotification]\";\n    })(\n      // @ts-ignore\n      !window[\"safari\"] ||\n        // @ts-ignore\n        (typeof safari !== \"undefined\" && safari.pushNotification)\n    )\n  ) {\n    browser = \"Safari\";\n  } else if (isIE) {\n    browser = \"Internet Explorer\";\n    // @ts-ignore\n  } else if (!isIE && !!window.StyleMedia) {\n    browser = \"Edge\";\n    // @ts-ignore\n  } else if (\n    // @ts-ignore\n    !!window.chrome &&\n    // @ts-ignore\n    (!!window.chrome.webstore || !!window.chrome.runtime)\n  ) {\n    browser = \"Chrome\";\n  } else {\n    browser = \"Unknown browser\";\n  }\n  return browser;\n}\n","import { useCallback, useMemo, useState } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport { useHistory } from \"react-router-dom\";\nimport { DecisionPoint } from \"../hooks/useGameData\";\nimport useLogGameEvent from \"../hooks/useLogGameEvent\";\nimport { useGotoMenu } from \"../util\";\nimport \"./Decision.scss\";\n\ninterface iProps {\n  decisionPoint: DecisionPoint;\n  onOptionChosen: (option: number, label: string) => void;\n}\n\nconst Decision: React.FC<iProps> = ({ decisionPoint, onOptionChosen }) => {\n  const history = useHistory();\n\n  const logGameEvent = useLogGameEvent();\n  const gotoMenu = useGotoMenu();\n\n  const dp = decisionPoint;\n\n  logGameEvent(\"\", \"show\", \"question\", dp.message, \"\");\n\n  const [randomizedOptions] = useState(dp.options); // TODO shuffle these\n\n  const optionBoxes = useMemo(() => {\n    return randomizedOptions.map((opt) => {\n      const chooseOption = () => onOptionChosen(opt.next, opt.label);\n\n      return (\n        <li\n          key={opt.label}\n          className=\"option\"\n          ng-repeat=\"opt in randomizedOptions\"\n        >\n          <button onClick={chooseOption}>{opt.label}</button>\n        </li>\n      );\n    });\n  }, [randomizedOptions, onOptionChosen]);\n\n  const replayVideo = useCallback(() => {\n    /*gtag('event', 'video_replayed', {\n      'event_category': 'video',\n      'event_label': $scope.dp.data,\n      'value': $scope.dp.id\n    });*/\n    logGameEvent(\"\", \"replay\", \"video\", dp.data, dp.id);\n    history.push(\"/video/\");\n  }, [dp.data, dp.id, history, logGameEvent]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"left controls\">\n        <button className=\"button button--menu\" onClick={replayVideo}>\n          <FormattedMessage\n            id=\"General.replay\"\n            defaultMessage=\"Replay\"\n            description=\"Replay Video Button\"\n          />\n        </button>\n      </div>\n      <div className=\"right controls\">\n        <button className=\"button button--menu\" onClick={gotoMenu}>\n          <FormattedMessage\n            id=\"General.menu\"\n            defaultMessage=\"Menu\"\n            description=\"Go To Menu Button\"\n          />\n        </button>\n      </div>\n      <div className=\"question\" tabIndex={0}>\n        <div className=\"vertical_outer\">\n          <div className=\"vertical_inner\">{dp?.message}</div>\n        </div>\n      </div>\n      <ul className=\"option_box cf\">{optionBoxes}</ul>\n    </div>\n  );\n};\n\nexport default Decision;\n","import { useEffect, useCallback, useRef } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport videojs from \"video.js\";\nimport Player from \"@vimeo/player\";\n\nimport { DecisionPoint } from \"../hooks/useGameData\";\nimport { useGotoMenu } from \"../util\";\n\nimport \"./Video.scss\";\nimport useLogGameEvent from \"../hooks/useLogGameEvent\";\n\ninterface iProps {\n  decisionPoint: DecisionPoint;\n  onVideoFinished: () => void;\n  videoposition: number;\n  setVideoposition: (t: number) => void;\n}\n\nconst Video: React.FC<iProps> = ({\n  decisionPoint: dp,\n  onVideoFinished,\n  videoposition,\n  setVideoposition,\n}) => {\n  const location = useLocation();\n  const history = useHistory();\n  const logGameEvent = useLogGameEvent();\n\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const iframeRef = useRef<HTMLIFrameElement>(null);\n\n  const gotoMenu = useGotoMenu();\n\n  const skipVideo = useCallback(() => {\n    let time = undefined;\n\n    if (dp?.video?.vimeo_url) {\n    } else if (videoRef.current) {\n      var api = videojs(videoRef.current);\n      api.dispose();\n      time = api?.currentTime();\n    }\n\n    onVideoFinished();\n    logGameEvent(\"\", \"skip\", \"video\", dp?.data, time);\n  }, [dp, logGameEvent, onVideoFinished]);\n\n  useEffect(() => {\n    if (dp && !dp?.video?.vimeo_url) skipVideo();\n  }, [dp, skipVideo]);\n\n  useEffect(() => {\n    const handleUserKeyPress = (e: KeyboardEvent) => {\n      const video = videoRef.current;\n      if (video) {\n        var api = videojs(video);\n        switch (e.keyCode) {\n          case 27:\n            e.preventDefault();\n            if (location.pathname !== \"/\") {\n              if (api && typeof api.currentTime() != \"undefined\") {\n                setVideoposition(api.currentTime());\n              }\n              history.push(\"/\");\n            } else {\n              history.goBack();\n            }\n            break;\n          case 32:\n            e.preventDefault();\n            if (api) {\n              if (api.paused()) {\n                api.play();\n              } else {\n                api.pause();\n              }\n            }\n            break;\n          case 33:\n            if (api) {\n              api.currentTime(api.currentTime() - 10);\n              api.play();\n            }\n            break;\n          case 34:\n            if (api) {\n              api.currentTime(api.currentTime() + 10);\n              api.play();\n            }\n            break;\n          default:\n            break;\n        }\n      }\n    };\n    window.addEventListener(\"keydown\", handleUserKeyPress);\n    return () => {\n      window.removeEventListener(\"keydown\", handleUserKeyPress);\n    };\n  }, [history, location.pathname, setVideoposition]);\n\n  useEffect(() => {\n    var iframe = iframeRef.current;\n\n    if (videoRef.current && dp) {\n      const api = videojs(videoRef.current);\n      const clip = {\n        bufferLength: 0,\n        sources: [\n          {\n            type: \"video/mp4\",\n            src: \"_/vid/mp4/\" + dp?.data + \".mp4\",\n          },\n        ],\n        subtitles: [\n          {\n            kind: \"subtitles\",\n            srclang: \"en\",\n            label: \"English\",\n            src: \"_/vid/vtt/en/\" + dp?.data + \".vtt\",\n          },\n        ],\n      };\n      console.log(\"video source\", clip.sources[0].src);\n\n      api.src(clip.sources[0].src);\n\n      // @ts-ignore\n      api.ready((api): void => {\n        if (videoposition > 0) {\n          api.currentTime(videoposition);\n        }\n        api?.play();\n        logGameEvent(\"\", \"start\", \"video\", dp?.data, \"\");\n      });\n\n      api.on(\"progress\", function (e: unknown) {\n        setVideoposition(api.currentTime());\n      });\n\n      api.on(\"pause\", function (e: unknown) {\n        if (api.duration() > api.currentTime() + 0.5) {\n          logGameEvent(\"\", \"pause\", \"video\", dp?.data, api.currentTime());\n        }\n      });\n\n      api.on(\"click\", function togglePause() {\n        var doc = document.getElementById(\"pause\");\n\n        if (api.paused()) {\n          if (doc) {\n            doc.style.display = \"none\";\n          }\n          api.play();\n        } else {\n          if (doc) {\n            doc.style.display = \"block\";\n          }\n          api.pause();\n        }\n      });\n\n      //@ts-ignore\n      api.on(\"ended\", function (e) {\n        skipVideo();\n        logGameEvent(\"\", \"finish\", \"video\", dp?.data, \"\");\n      });\n\n      //@ts-ignore\n      api.on(\"error\", function (e) {\n        console.log(e);\n        logGameEvent(\"\", \"error\", \"video\", dp?.data, \"\");\n      });\n\n      api.load();\n    } else if (dp && iframe) {\n      var player = new Player(iframe);\n      console.log(\"Setting vimeo listenera\");\n      player.on(\"ended\", function () {\n        console.log(\"vimeo ended\");\n        skipVideo();\n        logGameEvent(\"\", \"finish\", \"video\", dp.data, \"\");\n      });\n\n      player.getVideoTitle().then(function (title) {\n        console.log(\"title:\", title);\n      });\n    }\n  }, [dp, skipVideo, logGameEvent, setVideoposition, videoposition]);\n\n  return (\n    <div className=\"video\">\n      <div className=\"right controls\">\n        <button className=\"button button--menu\" onClick={gotoMenu}>\n          <FormattedMessage\n            id=\"General.menu\"\n            defaultMessage=\"Menu\"\n            description=\"Go To Menu Button\"\n          />\n        </button>\n      </div>\n      <div id=\"player\" className=\"videoplayer functional\">\n        {dp?.video &&\n          (dp.video.vimeo_url ? (\n            <div>\n              <iframe\n                ref={iframeRef}\n                src={dp.video.vimeo_url + \"?autoplay=1\"}\n                frameBorder={0}\n                allow=\"autoplay; fullscreen; picture-in-picture\"\n                allowFullScreen\n                title=\"SG4_DP1_0\"\n              ></iframe>\n            </div>\n          ) : (\n            <video\n              ref={videoRef}\n              id=\"vid-player\"\n              className=\"video-js vjs-big-play-centered\"\n            >\n              Please use a different browser\n            </video>\n          ))}\n\n        <div id=\"pause\">\n          <FormattedMessage\n            id=\"General.pause\"\n            defaultMessage=\"pause\"\n            description=\"pause icon\"\n          />\n          <script src=\"https://player.vimeo.com/api/player.js\"></script>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Video;\n","import { FormattedMessage } from \"react-intl\";\nimport { Link } from \"react-router-dom\";\nimport \"./Credits.scss\";\n\nconst Credits: React.FC<{}> = () => {\n  return (\n    <div className=\"container\">\n      <div className=\"panel credits\">\n        <header>\n          <h1>\n            <Link to=\"/\" aria-label=\"Return to menu\">\n              <span className=\"icon-arrow-left\"></span>\n            </Link>\n            <FormattedMessage\n              id=\"Credits.title\"\n              defaultMessage=\"Credits\"\n              description=\"credits title\"\n            />\n          </h1>\n        </header>\n        <div className=\"main\">\n          <div className=\"content cf\">\n            <h2>Content Providers</h2>\n            <ul>\n              <li>Margaret Verkuyl NP:PHC, MN</li>\n              <li>Dr. Jennifer Lapum, RN, PhD</li>\n              <li>Dr. Oona St-Amant RN, PhD </li>\n              <li>Behi Nikaiin RN MScN</li>\n              <li>Michelle Hughes RN, MEd</li>\n              <li>Dr. Paula Mastrilli RN, PhD</li>\n              <li>Dr. Daria Romaniuk RN, PhD</li>\n              <li>Lorraine Betts RN, MN</li>\n            </ul>\n            <h2>Cast</h2>\n            <ul>\n              <li>Karen Lee</li>\n              <li>Sarah Winstanley</li>\n            </ul>\n\n            <h2>Project Coordination</h2>\n            <ul>\n              <li>Lars Svekis</li>\n              <li>Sushila Parikh</li>\n            </ul>\n            <h2>Game Design & Development</h2>\n            <ul>\n              <li>Igor Karasyov</li>\n              <li>Lucas Michalski</li>\n            </ul>\n            <h2>Video Production</h2>\n            <ul>\n              <li>Daniil Novikov</li>\n              <li>Ilya Emilianov</li>\n              <li>Arseniy Semin</li>\n              <li>Cassandra Ferworn</li>\n              <li>Kelvin Kong</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Credits;\n","import { Link } from \"react-router-dom\";\nimport \"./Instructions.scss\";\n\ninterface iProps {\n  minSteps: number;\n}\n\nconst Instructions: React.FC<iProps> = ({ minSteps }) => {\n  return (\n    <div className=\"container\">\n      <div className=\"panel info\">\n        <header>\n          <h1>\n            <Link to=\"/\" aria-label=\"Return to menu\">\n              <span className=\"icon-arrow-left\"></span>\n            </Link>{\" \"}\n            How to Play\n          </h1>\n        </header>\n        <div className=\"main\">\n          <div className=\"content cf\">\n            <p>\n              Watch the video story unfold. You will assume the role of a\n              clinical nurse completing a client assessment.\n            </p>\n            <ul>\n              <li>\n                Occasionally, the video will pause, and you will be asked to\n                respond to questions.{\" \"}\n              </li>\n              <li>\n                Choose your responses carefully because your choices will affect\n                how the story unfolds.{\" \"}\n              </li>\n              <li>\n                The goal is to get to the end of the story, answering as few\n                questions as possible.{\" \"}\n              </li>\n              <li>\n                The best possible result is {minSteps}. You can play this game\n                unlimited times to improve your result.{\" \"}\n              </li>\n              <li>\n                Game play progresses forward only; there is no option to go back\n                to a previous decision point.{\" \"}\n              </li>\n              <li>\n                At the end of the game you will see a summary report of your\n                answers. The summary can be downloaded and saved to your\n                computer.\n              </li>\n              <li>\n                At the end of the game you will have an opportunity to document\n                your assessment and interventions. Once you have completed your\n                documentation, compare your documentation to the one provided.\n                Please note the date/time/names will be different depending on\n                the time you play the game. But, the content should be similar\n                even though the wording may vary.{\" \"}\n              </li>\n              <li>\n                You can pause the game at any time by clicking on the video or\n                pressing the spacebar.\n              </li>\n              <li>\n                You can turn captions on or switch to full-screen, by selecting\n                Game Options from the menu.\n              </li>\n              <li>\n                The game uses high resolution videos, which require high-speed\n                internet to upload easily.\n              </li>\n              <li>The game takes about 20–40 minutes to complete.</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Instructions;\n","import { useCallback } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport { useHistory } from \"react-router\";\nimport { DecisionPoint } from \"../hooks/useGameData\";\nimport \"./Feedback.scss\";\n\ninterface iProps {\n  decisionPoint: DecisionPoint;\n}\n\nconst Feedback: React.FC<iProps> = ({ decisionPoint: dp }) => {\n  const history = useHistory();\n\n  const goNext = useCallback(() => {\n    switch (dp?.type) {\n      case \"video\":\n        history.push(\"/decision/\");\n        break;\n      case \"lo\":\n        history.push(\"/lo/\");\n        break;\n    }\n  }, [dp?.type, history]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"panel feedback\" role=\"alert\">\n        <header>\n          <FormattedMessage\n            id=\"Feedback.title\"\n            defaultMessage=\"Feedback\"\n            description=\"feedback title\"\n            tagName=\"h1\"\n          />\n        </header>\n        <div className=\"main\">{dp?.feedback}</div>\n        <footer>\n          <p className=\"controls\">\n            <button className=\"button\" onClick={goNext}>\n              <FormattedMessage\n                id=\"General.resume\"\n                defaultMessage=\"Resume Game\"\n                description=\"resume game button\"\n              />\n            </button>\n          </p>\n        </footer>\n      </div>\n    </div>\n  );\n};\n\nexport default Feedback;\n","import { Link } from \"react-router-dom\";\nimport \"./Settings.scss\";\n\nconst Settings: React.FC<{}> = () => {\n  const isFullscreen = false;\n  const subtitlesOn = false;\n\n  return (\n    <div className=\"container\">\n      <div className=\"panel settings\">\n        <header>\n          <h1>\n            <Link to=\"/\" aria-label=\"Return to menu\">\n              <span className=\"icon-arrow-left\"></span>\n            </Link>{\" \"}\n            Game Options\n          </h1>\n        </header>\n        <div className=\"main\">\n          <div className=\"content\">\n            <div className=\"cf\">\n              <h2>Display:</h2>\n              <div className=\"radio\">\n                <div>\n                  <input\n                    type=\"radio\"\n                    name=\"display_mode\"\n                    id=\"mode_window\"\n                    ng-model=\"sg.fullscreen\"\n                    ng-value=\"false\"\n                    ng-change=\"toggleFullScreen()\"\n                  />\n                  <label\n                    htmlFor=\"mode_window\"\n                    tabIndex={0}\n                    role=\"radio\"\n                    aria-checked={!isFullscreen}\n                    ng-keydown=\"onFullscreenKeydown($event)\"\n                  >\n                    Window\n                  </label>\n                </div>\n                <div>\n                  <input\n                    type=\"radio\"\n                    name=\"display_mode\"\n                    id=\"mode_fullscreen\"\n                    ng-model=\"sg.fullscreen\"\n                    ng-value=\"true\"\n                    ng-change=\"toggleFullScreen()\"\n                  />\n                  <label\n                    htmlFor=\"mode_fullscreen\"\n                    tabIndex={0}\n                    role=\"radio\"\n                    aria-checked={isFullscreen}\n                    ng-keydown=\"onFullscreenKeydown($event)\"\n                  >\n                    Fullscreen\n                  </label>\n                </div>\n              </div>\n            </div>\n            <br />\n            <div className=\"cf\">\n              <h2>Subtitles:</h2>\n              <div className=\"radio\">\n                <div>\n                  <input\n                    type=\"radio\"\n                    name=\"subtitles\"\n                    id=\"subtitles_off\"\n                    ng-model=\"sg.subtitles\"\n                    ng-value=\"false\"\n                    ng-change=\"saveState()\"\n                  />\n                  <label\n                    htmlFor=\"subtitles_off\"\n                    tabIndex={0}\n                    role=\"radio\"\n                    aria-checked={!subtitlesOn}\n                    ng-keydown=\"onSubtitlesKeydown($event)\"\n                  >\n                    Off\n                  </label>\n                </div>\n                <div>\n                  <input\n                    type=\"radio\"\n                    name=\"subtitles\"\n                    id=\"subtitles_en\"\n                    ng-model=\"sg.subtitles\"\n                    ng-value=\"true\"\n                    ng-change=\"saveState()\"\n                  />\n                  <label\n                    htmlFor=\"subtitles_en\"\n                    tabIndex={0}\n                    role=\"radio\"\n                    aria-checked={subtitlesOn}\n                    ng-keydown=\"onSubtitlesKeydown($event)\"\n                  >\n                    On\n                  </label>\n                </div>\n              </div>\n            </div>\n            {/* <!--<br>\n\t\t\t\t<div className=\"cf\">\n\t\t\t\t\t<h2>Video Quality:</h2>\n\t\t\t\t\t<div className=\"radio\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<input type=\"radio\" name=\"quality\" id=\"quality_720p\"\n\t\t\t\t\t\t\t\tng-model=\"sg.quality\"\n\t\t\t\t\t\t\t\tng-value=\"'-720p'\"\n\t\t\t\t\t\t\t\tng-change=\"saveState()\"/> \n\t\t\t\t\t\t\t<label for=\"quality_720p\">High (720p)</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<input type=\"radio\" name=\"quality\" id=\"quality_360p\"\n\t\t\t\t\t\t\t\tng-model=\"sg.quality\"\n\t\t\t\t\t\t\t\tng-value=\"''\"\n\t\t\t\t\t\t\t\tng-change=\"saveState()\"/> \n\t\t\t\t\t\t\t<label for=\"quality_360p\">Low (360p)</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>--> */}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Settings;\n","import { useMemo } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport { useGotoMenu } from \"../util\";\nimport \"./Summary.scss\";\nimport {\n  PDFDownloadLink,\n  Document,\n  Page,\n  Text,\n  Link,\n  View,\n} from \"@react-pdf/renderer\";\nimport { Font } from \"@react-pdf/renderer\";\n\nimport { Link as Lonk } from \"react-router-dom\";\nimport useLogGameEvent from \"../hooks/useLogGameEvent\";\nimport { DecisionPoint } from \"../hooks/useGameData\";\n\nconst Roboto = require(\"../fnt/Roboto-Regular.ttf\").default as string;\n\nFont.register({\n  family: \"Roboto\",\n  format: \"truetype\",\n  src: Roboto,\n});\n\ninterface iProps {\n  decisionPoints: DecisionPoint[];\n  gameProgress: { id: number; label: string; option: number }[];\n  completed: boolean;\n}\n\nconst Summary: React.FC<iProps> = ({\n  gameProgress,\n  decisionPoints,\n  completed,\n}) => {\n  const logGameEvent = useLogGameEvent();\n\n  // const [progress, setProgress] = useState([])\n\n  const goToMenu = useGotoMenu();\n\n  let progress: { question: string; answer: string; correct: boolean }[] =\n    useMemo(() => {\n      let progress = [];\n      var i;\n      for (i = 0; i < gameProgress.length; i++) {\n        const dp = gameProgress[i];\n        const current = decisionPoints.find(({ id }) => id === dp.id)!;\n        const next = decisionPoints.find(({ id }) => id === dp.option)!;\n\n        progress.push({\n          question: current.message,\n          answer: dp.label,\n          correct: next.correct,\n        });\n      }\n      return progress;\n    }, [decisionPoints, gameProgress]);\n\n  let message: JSX.Element;\n\n  if (completed) {\n    const correct_ratio = (\n      progress.filter(({ correct }) => correct).length / progress.length\n    ).toFixed(2);\n\n    logGameEvent(\"\", \"complete\", \"game\", \"\", correct_ratio);\n\n    message = (\n      <>\n        <Text>\n          You have completed the game by answering{\" \"}\n          <Text style={{ fontWeight: \"bold\" }}>\n            {\" \"}\n            {progress.length} questions\n          </Text>\n          .\n        </Text>\n        {progress.length ===\n        decisionPoints.filter(({ correct }) => correct).length ? (\n          <Text>\n            You've demonstrated the best possible result! Now play it one more\n            time to make sure it wasn't mere luck :)\n          </Text>\n        ) : (\n          <Text>\n            {\" \"}\n            However, if you give only correct answers it should only take 9\n            questions to complete the scenario. See if you can improve your\n            results next time!{\" \"}\n          </Text>\n        )}\n        <Text>\n          Document this encounter by clicking on the practice documentation\n          icon. There you will find a blank documentation form. Once you are\n          done, compare your documentation to the sample provided.{\" \"}\n        </Text>\n        <Text>\n          If not attending an organized debrief, make sure you download and\n          complete the{\" \"}\n          <Link src=\"/docs/self-assessment.pdf\">self-debriefing questions</Link>{\" \"}\n          to optimise your learning experience. Scroll down to view results.\n        </Text>\n      </>\n    );\n  } else {\n    message = (\n      <Text>\n        You have answered{\" \"}\n        <Text style={{ fontWeight: \"bold\" }}> {progress.length} questions</Text>\n        . To finish the game go to menu and resume the gameplay.\n      </Text>\n    );\n  }\n\n  const pdfContent = useMemo(() => {\n    let responses = progress.map((dp, i) => (\n      <View key={i}>\n        <View>\n          <Text style={{ fontWeight: \"bold\" }}>Q: </Text>\n          <Text>{dp.question}</Text>\n        </View>\n        <View>\n          <Text style={{ fontWeight: \"bold\" }}>A: </Text>\n          <Text\n            style={dp.correct ? { color: \"#009933\" } : { color: \"#cc0000\" }}\n          >\n            {dp.answer} ({dp.correct ? \"Correct\" : \"Incorrect\"})\n          </Text>\n        </View>\n      </View>\n    ));\n    const html = (\n      <Document>\n        <Page>\n          {/* <style\n            dangerouslySetInnerHTML={{\n              __html: `html, body { font-family: Helvetica, Arial, sans-serif; font-size: 14px; line-height: 130%; background-color: #ffffff; color: #000;}\n\t\t\t\t\t\t\th1, h2, p, ol { font-weight: normal; margin-top: 0.3em; margin-bottom: 0.3em; padding-top: 0; padding-bottom: 0; line-height: 130%; color: #000; }`,\n            }}\n          /> */}\n          <View\n            style={{\n              fontFamily: \"Roboto\",\n              fontSize: 14,\n              lineHeight: \"130%\",\n              backgroundColor: \"#ffffff\",\n              color: \"#000\",\n            }}\n          >\n            <Text\n              style={{\n                fontSize: 32,\n                paddingBottom: \"0.3em\",\n                borderBottom: \"2px solid #000000\",\n              }}\n            >\n              Emergency Game Report\n            </Text>\n            <Text style={{ fontSize: 24 }}>Summary</Text>\n            <View>{message}</View>\n            <Text style={{ fontSize: 24 }}>Your Responses</Text>\n            <View>{responses}</View>\n          </View>\n        </Page>\n      </Document>\n    );\n    return html;\n  }, [message, progress]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"right controls\">\n        <button className=\"button button--menu\" onClick={goToMenu}>\n          Menu\n        </button>\n      </div>\n      <div className=\"panel info\">\n        <header>\n          <FormattedMessage\n            id=\"Summary.title\"\n            defaultMessage=\"Congratulations!\"\n            description=\"Summary title\"\n            tagName=\"h1\"\n          />\n        </header>\n        <div className=\"main summary\">\n          <div className=\"content\">\n            <div>{message}</div>\n            <h2 style={{ fontSize: 24 }}>Your Answers:</h2>\n            <ol className=\"responses\">\n              {progress.map((dp) => (\n                <li>\n                  <div>{dp.question}</div>\n                  <div\n                    className={dp.correct ? \"correct\" : \"wrong\"}\n                    style={\n                      dp.correct ? { color: \"#009933\" } : { color: \"#cc0000\" }\n                    }\n                  >\n                    <strong>\n                      {dp.answer} ({dp.correct ? \"Correct\" : \"Incorrect\"})\n                    </strong>\n                  </div>\n                </li>\n              ))}\n            </ol>\n          </div>\n        </div>\n        <footer>\n          <PDFDownloadLink\n            className=\"button\"\n            document={pdfContent}\n            fileName=\"emergency-progress.pdf\"\n          >\n            {({ blob, url, loading, error }) =>\n              loading ? \"Loading document...\" : \"Download Progress Report\"\n            }\n          </PDFDownloadLink>\n\n          <Lonk to=\"/materials/\">\n            <FormattedMessage\n              id=\"materials.link\"\n              defaultMessage=\"Practice Materials\"\n              description=\"Link to Practice Materials\"\n            />\n          </Lonk>\n\n          {/* <a href=\"/module/_/ui/game/tpl/materials.html\" className=\"button\">\n            {\" \"}\n            Practice Documentation{\" \"}\n          </a> */}\n        </footer>\n      </div>\n    </div>\n  );\n};\n\nexport default Summary;\n","import { useCallback } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport { useHistory } from \"react-router\";\nimport { DecisionPoint } from \"../hooks/useGameData\";\nimport \"./Transition.scss\";\n\ninterface iProps {\n  decisionPoint: DecisionPoint;\n}\n\nconst Transition: React.FC<iProps> = ({ decisionPoint: dp }) => {\n  const history = useHistory();\n\n  const playNextVideo = useCallback(() => {\n    history.push(\"/video/\");\n  }, [history]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"panel feedback\">\n        <header>\n          <FormattedMessage\n            id=\"Transition.title\"\n            defaultMessage=\"Game Paused\"\n            description=\"game paused transition title\"\n            tagName=\"h1\"\n          />\n        </header>\n        <div className=\"main\">{dp?.feedback}</div>\n        <footer>\n          <p className=\"controls\">\n            <button className=\"Link\" onClick={playNextVideo}>\n              Resume Game\n            </button>\n          </p>\n        </footer>\n      </div>\n    </div>\n  );\n};\n\nexport default Transition;\n","import { FormattedMessage } from \"react-intl\";\nimport { useGotoMenu } from \"../util\";\nimport \"./Materials.scss\";\n\nconst Materials: React.FC<{}> = () => {\n  const gotoMenu = useGotoMenu();\n\n  return (\n    <body className=\"documentation-container\">\n      <div className=\"panel feedback\">\n        <header>\n          <FormattedMessage\n            id=\"Materials.title\"\n            defaultMessage=\"Materials\"\n            description=\"Materials title\"\n            tagName=\"h1\"\n          />\n        </header>\n\n        <div className=\"right controls\">\n          <button className=\"button button--menu\" onClick={gotoMenu}>\n            <FormattedMessage\n              id=\"General.menu\"\n              defaultMessage=\"Menu\"\n              description=\"Go To Menu Button\"\n            />\n          </button>\n        </div>\n\n        <footer>\n          <div className=\"content\">\n            <h2>Documentation</h2>\n            <a\n              href=\"/docs/Integrated_Patient_Record.pdf\"\n              className=\"button\"\n              download\n            >\n              Download Template\n            </a>\n            <a\n              href=\"/docs/Integrated_Patient_Record_Sample.pdf\"\n              className=\"button\"\n              download\n            >\n              Download Sample\n            </a>\n            <br />\n            <h2>Self-Debrief</h2>\n            <a href=\"/docs/self-assessment.pdf\" className=\"button\" download>\n              Download\n            </a>\n          </div>\n        </footer>\n      </div>\n    </body>\n  );\n};\n\nexport default Materials;\n","//////////////////////////////////////////////////\n// Cookies + State, it's messy here\n//////////////////////////////////////////////////\n\nvar maxAge = 21 * 24 * 60;\n\nfunction isLocalStorageAvailable() {\n  var str = \"test\";\n  try {\n    localStorage.setItem(str, str);\n    localStorage.removeItem(str);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nconst cookies = {\n  put(key: string, value: string, maxAge: number) {\n    var cookie = `${key}=${value};path=/;max-age=${maxAge};`;\n    console.log(cookie);\n    document.cookie = cookie;\n  },\n  get(cname: string): string | null {\n    let name = cname + \"=\";\n    let decodedCookie = decodeURIComponent(document.cookie);\n    let ca = decodedCookie.split(\";\");\n    for (let i = 0; i < ca.length; i++) {\n      let c = ca[i];\n      while (c.charAt(0) === \" \") {\n        c = c.substring(1);\n      }\n      if (c.indexOf(name) === 0) {\n        return c.substring(name.length, c.length);\n      }\n    }\n    return null;\n  },\n  remove(key: string) {\n    this.put(key, \"\", -1);\n  },\n};\n\nexport const VHEStorage = {\n  set: function (key: string, value: string) {\n    if (isLocalStorageAvailable()) {\n      window.localStorage.setItem(key, value);\n    } else {\n      cookies.put(key, value, maxAge);\n    }\n  },\n  get: function (key: string): string | null {\n    var r = isLocalStorageAvailable()\n      ? window.localStorage.getItem(key)\n      : cookies.get(key);\n    return r;\n  },\n  setObject: function (key: string, value: any) {\n    const o = JSON.stringify(value);\n    if (isLocalStorageAvailable()) {\n      window.localStorage.setItem(key, o);\n    } else {\n      cookies.put(key, o, maxAge);\n    }\n  },\n  getObject: function (key: string) {\n    var r = isLocalStorageAvailable()\n      ? window.localStorage.getItem(key)\n      : cookies.get(key);\n    return r ? JSON.parse(r) : false;\n  },\n  remove: function (key: string) {\n    if (isLocalStorageAvailable()) {\n      window.localStorage.removeItem(key);\n    } else {\n      cookies.remove(key);\n    }\n  },\n};\n\nconst useStorage = () => {\n  return VHEStorage;\n};\n\nexport default useStorage;\n","import { useEffect, useMemo, useState } from \"react\";\nimport { generateUUID } from \"../util\";\nimport { VHEStorage } from \"./useStorage\";\n\ninterface iGameSave {\n  uuid: string;\n  gamesaved: boolean;\n  subtitles: boolean;\n  fullscreen: boolean;\n  currentStep: number;\n  videoposition: number;\n  progress: {\n    id: number;\n    label: string;\n    option: number;\n  }[];\n}\n\nconst useGameState = () => {\n  const storageKey = \"emergency\";\n  const [loaded] = useState(\n    VHEStorage.getObject(storageKey) as iGameSave | null\n  );\n\n  const [uuid] = useState(loaded?.uuid ?? generateUUID());\n  const [gamesaved, setGamesaved] = useState(loaded?.gamesaved ?? false);\n  const [currentStep, setCurrentStep] = useState(loaded?.currentStep ?? 0);\n  const [videoposition, setVideoposition] = useState(\n    loaded?.videoposition ?? 0\n  );\n  const [progress, setProgress] = useState(loaded?.progress ?? []);\n\n  useEffect(() => {\n    VHEStorage.setObject(storageKey, {\n      uuid,\n      gamesaved,\n      subtitles: false,\n      fullscreen: false,\n      currentStep,\n      videoposition,\n      progress,\n    });\n  }, [uuid, gamesaved, currentStep, videoposition, progress]);\n\n  const gameState = useMemo(\n    () => ({\n      newGame: () => {\n        setGamesaved(true);\n        setCurrentStep(0);\n        setVideoposition(0);\n        setProgress([]);\n      },\n      selectOption: (nextId: number, label: string) => {\n        setProgress((ps) => [\n          ...ps,\n          {\n            id: currentStep,\n            label: label,\n            option: nextId,\n          },\n        ]);\n        setCurrentStep(nextId);\n      },\n      currentStep,\n      setCurrentStep,\n      videoposition,\n      setVideoposition,\n      progress,\n      gamesaved,\n    }),\n    [currentStep, gamesaved, progress, videoposition]\n  );\n\n  return gameState;\n};\n\nexport default useGameState;\n","import React, { useCallback, useMemo } from \"react\";\n\nimport { Switch, Route, useHistory } from \"react-router-dom\";\nimport { useIntl } from \"react-intl\";\n\nimport Menu from \"./pages/Menu\";\nimport \"./App.scss\";\n\nimport { useGameData } from \"./hooks/useGameData\";\n\nimport Objectives from \"./pages/Objectives\";\nimport Intro from \"./pages/Intro\";\nimport Decision from \"./pages/Decision\";\nimport Video from \"./pages/Video\";\nimport Credits from \"./pages/Credits\";\nimport Instructions from \"./pages/Instructions\";\nimport Feedback from \"./pages/Feedback\";\nimport Settings from \"./pages/Settings\";\nimport Summary from \"./pages/Summary\";\nimport Transition from \"./pages/Transition\";\nimport Materials from \"./pages/Materials\";\nimport useLogGameEvent from \"./hooks/useLogGameEvent\";\nimport { getBrowser } from \"./util\";\nimport useGameState from \"./hooks/useGameState\";\n\nconst App: React.FC<{}> = () => {\n  const history = useHistory();\n  const logGameEvent = useLogGameEvent();\n  const locale = useIntl().locale;\n\n  const gameData = useGameData(\"emergency\", locale)\n  const gameState = useGameState();\n  const minSteps = gameData.decisionpoints.filter(\n    ({ correct }) => correct\n  ).length;\n\n  const lastDecisionPoint =\n    gameData.decisionpoints[gameData.decisionpoints.length - 1].id ===\n    gameState.currentStep;\n\n  const currentDecisionPoint = useMemo(() => {\n    return gameData.decisionpoints.find(\n      ({ id }) => id === gameState.currentStep\n    )!;\n  }, [gameData.decisionpoints, gameState.currentStep]);\n\n  const handleStartNewGame = useCallback(() => {\n    gameState.newGame();\n\n    history.push(\"/intro/\");\n    logGameEvent(\"\", \"start\", \"game\", getBrowser(), \"\");\n  }, [history, logGameEvent, gameState]);\n\n  const handleResumeGame = useCallback(() => {\n    var dp = currentDecisionPoint;\n\n    if (dp && lastDecisionPoint) {\n      history.push(\"/summary/\");\n    } else if (gameState.videoposition > 0.1) {\n      history.push(\"/video/\");\n    } else {\n      history.push(\"/decision/\");\n    }\n\n    logGameEvent(\"\", \"resume\", \"game\", \"\", \"\");\n  }, [\n    history,\n    logGameEvent,\n    gameState.videoposition,\n    currentDecisionPoint,\n    lastDecisionPoint,\n  ]);\n\n  const handleOptionChosen = useCallback(\n    (nextId: number, label: string) => {\n      const next = gameData.decisionpoints.find(({ id }) => id === nextId);\n\n      gameState.selectOption(nextId, label);\n\n      logGameEvent(\n        \"\",\n        \"select\",\n        \"answer\",\n        label,\n        next?.correct ? \"correct\" : \"incorrect\"\n      );\n\n      switch (next?.type) {\n        case \"video\":\n          history.push(\"/video/\");\n          break;\n        case \"lo\":\n          if (next.feedback > \"\") {\n            // If there's feedback, show it then advance\n            history.push(\"/feedback/\");\n          } else {\n            history.push(\"/lo/\");\n          }\n          break;\n      }\n\n      // google analytics ???\n    },\n    [gameData.decisionpoints, history, logGameEvent, gameState]\n  );\n\n  const handleVideoFinished = useCallback(() => {\n    const dp = currentDecisionPoint;\n    gameState.setVideoposition(0);\n\n    if (lastDecisionPoint) {\n      history.push(\"/summary/\");\n    } else if (dp && dp.options.length > 0) {\n      if (dp.feedback > \"\") {\n        history.push(\"/feedback/\");\n      } else {\n        // No feedback means go directly to the decision\n        history.push(\"/decision/\");\n      }\n    } else {\n      gameState.setCurrentStep(gameState.currentStep + 1);\n      if (dp?.next) {\n        // If there are no options, go to the next decision point\n        history.push(\"/lo/\");\n      } else {\n        history.push(\"/transition/\");\n      }\n    }\n  }, [currentDecisionPoint, history, lastDecisionPoint, gameState]);\n\n  return (\n    <div className=\"fullscreen\">\n      <div className=\"view\" role=\"application\">\n        <Switch>\n          <Route path=\"/credits\">\n            <Credits />\n          </Route>\n\n          <Route path=\"/decision\">\n            <Decision\n              decisionPoint={currentDecisionPoint}\n              onOptionChosen={handleOptionChosen}\n            />\n          </Route>\n\n          <Route path=\"/feedback\">\n            <Feedback decisionPoint={currentDecisionPoint} />\n          </Route>\n\n          <Route path=\"/instructions\">\n            <Instructions minSteps={minSteps} />\n          </Route>\n\n          <Route path=\"/intro\">\n            <Intro strings={gameData.strings.intro}/>\n          </Route>\n\n          <Route path=\"/materials\">\n            <Materials />\n          </Route>\n\n          <Route path=\"/objectives\">\n            <Objectives />\n          </Route>\n\n          <Route path=\"/settings\">\n            <Settings />\n          </Route>\n\n          <Route path=\"/summary\">\n            <Summary\n              decisionPoints={gameData.decisionpoints}\n              gameProgress={gameState.progress}\n              completed={lastDecisionPoint}\n            />\n          </Route>\n\n          <Route path=\"/transition\">\n            <Transition decisionPoint={currentDecisionPoint} />\n          </Route>\n\n          <Route path=\"/video\">\n            <Video\n              decisionPoint={currentDecisionPoint}\n              onVideoFinished={handleVideoFinished}\n              videoposition={gameState.videoposition}\n              setVideoposition={gameState.setVideoposition}\n            />\n          </Route>\n\n          <Route path=\"/lo\">Somethings going on here, I swear</Route>\n\n          <Route path=\"/\">\n            <Menu\n              strings={gameData.strings.menu}\n              startNewGame={handleStartNewGame}\n              resumeGame={handleResumeGame}\n              gamesaved={gameState.gamesaved}\n            />\n          </Route>\n        </Switch>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import { useMemo } from \"react\";\nimport er_game_data from \"../games/er_game_data.json\";\n\nexport interface DecisionPoint {\n  id: number;\n  title?: string;\n  type: string; //\"video\" | \"string\",\n  data: string;\n\n  video:\n    | {\n        vimeo_url: string;\n        videojs_url?: string;\n      }\n    | {\n        vimeo_url?: string;\n        videojs_url: string;\n      }\n    | null;\n\n  correct: boolean;\n  feedback: string;\n  message: string;\n  options: {\n    label: string;\n    next: number;\n  }[];\n  next: null;\n}\n\ninterface GameDataShape {\n  decisionpoints: DecisionPoint[];\n  strings: {\n    menu: {\n      title: string\n    }\n    intro: {\n      introCards: string[]\n    }\n  }\n}\n\n\nexport const useGameData = (game: \"emergency\", locale?: string): GameDataShape => {\n  const data = useMemo(() =>{\n    switch(game){\n      case \"emergency\":\n        return locale === \"fr\" ? er_game_data : er_game_data \n    }\n  }, [game, locale]);\n\n  return data;\n};\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { IntlProvider } from \"react-intl\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { LoggingContextProvider } from \"./hooks/useLogGameEvent\";\n\nimport enMessages from \"./lang-compiled/en.json\";\nimport frMessages from \"./lang-compiled/fr.json\";\n\nconst locale = \"en\" as string;\nconst messages = locale === \"fr\" ? frMessages : enMessages;\n\nReactDOM.render(\n  <React.StrictMode>\n    <IntlProvider messages={messages} locale={locale} defaultLocale=\"en\">\n      <Router basename=\"/\">\n        <LoggingContextProvider>\n          <App />\n        </LoggingContextProvider>\n      </Router>\n    </IntlProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}