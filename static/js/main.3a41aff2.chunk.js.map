{"version":3,"sources":["fnt/Roboto-Regular.ttf","util.ts","controllers/RootScopeContext.tsx","pages/Menu.tsx","pages/Objectives.tsx","pages/Intro.tsx","pages/Decision.tsx","pages/Video.tsx","pages/Credits.tsx","pages/Instructions.tsx","pages/Feedback.tsx","pages/Settings.tsx","pages/Summary.tsx","pages/Transition.tsx","pages/Materials.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["generateUUID","d","Date","getTime","performance","now","replace","c","r","Math","random","floor","toString","useGotoMenu","location","useLocation","history","useHistory","rootScope","useContext","RootScopeContext","useCallback","resumeURL","pathname","logGameEvent","push","isLocalStorageAvailable","str","localStorage","setItem","removeItem","e","cookies","alert","Storage","key","value","o","JSON","stringify","window","expires","setDate","getItem","parse","data","emptyRootScope","dataProvider","decisionpoints","correctOptions","filter","correct","eventLog","sg","uuid","gamesaved","subtitles","fullscreen","current","completed","videoposition","progress","undefined","saveState","this","level","type","target","label","game","user","datetime","console","log","resumeGame","dp","find","id","indexOf","length","React","createContext","Menu","startNewGame","isIE","document","documentMode","opr","addons","opera","navigator","userAgent","InstallTrigger","test","HTMLElement","safari","pushNotification","StyleMedia","chrome","webstore","runtime","getBrowser","className","defaultMessage","description","tagName","onClick","to","Objectives","Intro","useState","currentMessage","setCurrentMessage","intro","skipToNext","n","text","Decision","gotoMenu","message","options","randomizedOptions","optionBoxes","useMemo","map","opt","next","option","feedback","replayVideo","tabIndex","Video","videoRef","useRef","iframeRef","skipVideo","time","video","vimeo_url","api","videojs","dispose","currentTime","useEffect","handleUserKeyPress","keyCode","preventDefault","goBack","paused","play","pause","addEventListener","removeEventListener","iframe","clip","bufferLength","sources","src","kind","srclang","ready","on","duration","doc","getElementById","style","display","load","player","Player","getVideoTitle","then","title","ref","frameBorder","allow","allowFullScreen","Credits","Instructions","minSteps","Feedback","goNext","role","Settings","name","htmlFor","Roboto","require","default","Font","register","family","format","Summary","goToMenu","i","question","answer","correct_ratio","toFixed","fontWeight","pdfContent","responses","color","fontFamily","fontSize","lineHeight","backgroundColor","paddingBottom","borderBottom","fileName","blob","url","loading","error","href","Transition","playNextVideo","Materials","download","App","messages","enMessages","locale","defaultLocale","basename","Provider","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.3a41aff2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Roboto-Regular.a8d6ac03.ttf\";","import { useContext, useCallback } from \"react\";\nimport { useLocation, useHistory } from \"react-router\";\nimport RootScopeContext from \"./controllers/RootScopeContext\";\n\nexport function generateUUID(): string {\n  var r: string;\n  let d = new Date().getTime();\n  if (\n    typeof performance !== \"undefined\" &&\n    typeof performance.now === \"function\"\n  ) {\n    d += performance.now(); //use high-precision timer if available\n  }\n  r = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\n    var r = (d + Math.random() * 16) % 16 | 0;\n    d = Math.floor(d / 16);\n    return (c === \"x\" ? r : (r & 0x3) | 0x8).toString(16);\n  });\n  return r;\n}\n\nexport const useGotoMenu = () => {\n  const location = useLocation();\n  const history = useHistory();\n\n  const rootScope = useContext(RootScopeContext);\n\n  const gotoMenu = useCallback(() => {\n    rootScope.resumeURL = location.pathname;\n    rootScope.logGameEvent(\"\", \"open\", \"menu\", \"\", \"\");\n    history.push(\"/\");\n  }, [rootScope, history, location.pathname]);\n  return gotoMenu;\n};\n\nexport function getBrowser() {\n  var browser, isIE;\n  // @ts-ignore\n  isIE = /*@cc_on!@*/ false || !!document.documentMode;\n\n  // @ts-ignore\n  if (\n    // @ts-ignore\n    (!!window.opr && !!opr.addons) ||\n    // @ts-ignore\n    !!window.opera ||\n    navigator.userAgent.indexOf(\" OPR/\") >= 0\n  ) {\n    browser = \"Opera\";\n\n    // @ts-ignore\n  } else if (typeof InstallTrigger !== \"undefined\") {\n    browser = \"Firefox\";\n    // @ts-ignore\n  } else if (\n    // @ts-ignore\n    /constructor/i.test(window.HTMLElement) ||\n    (function (p) {\n      return p.toString() === \"[object SafariRemoteNotification]\";\n    })(\n      // @ts-ignore\n      !window[\"safari\"] ||\n        // @ts-ignore\n        (typeof safari !== \"undefined\" && safari.pushNotification)\n    )\n  ) {\n    browser = \"Safari\";\n  } else if (isIE) {\n    browser = \"Internet Explorer\";\n    // @ts-ignore\n  } else if (!isIE && !!window.StyleMedia) {\n    browser = \"Edge\";\n    // @ts-ignore\n  } else if (\n    // @ts-ignore\n    !!window.chrome &&\n    // @ts-ignore\n    (!!window.chrome.webstore || !!window.chrome.runtime)\n  ) {\n    browser = \"Chrome\";\n  } else {\n    browser = \"Unknown browser\";\n  }\n  return browser;\n}\n\n//////////////////////////////////////////////////\n// Cookies + State, it's messy here\n//////////////////////////////////////////////////\n\nvar expiry_days = 10;\n\nfunction isLocalStorageAvailable() {\n  var str = \"test\";\n  try {\n    localStorage.setItem(str, str);\n    localStorage.removeItem(str);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nconst cookies = {\n  putString: (...args: any[]) => alert(\"Cookies don't work yet\"),\n  get: (...args: any[]) => alert(\"Cookies don't work yet\"),\n  putObject: (...args: any[]) => alert(\"Cookies don't work yet\"),\n  getObject: (...args: any[]) => alert(\"Cookies don't work yet\"),\n  remove: (...args: any[]) => alert(\"Cookies don't work yet\"),\n};\n\nexport const Storage = {\n  set: function (key: string, value: string) {\n    var d = new Date();\n    if (isLocalStorageAvailable()) {\n      window.localStorage.setItem(key, value);\n    } else {\n      cookies.putString(key, value, { expires: d.setDate(expiry_days) });\n    }\n  },\n  get: function (key: string) {\n    var r = isLocalStorageAvailable()\n      ? window.localStorage.getItem(key)\n      : cookies.get(key);\n    return r;\n  },\n  setObject: function (key: string, value: any) {\n    var d = new Date(),\n      o = JSON.stringify(value);\n    if (isLocalStorageAvailable()) {\n      window.localStorage.setItem(key, o);\n    } else {\n      cookies.putObject(key, o, { expires: d.setDate(expiry_days) });\n    }\n  },\n  getObject: function (key: string) {\n    var r = isLocalStorageAvailable()\n      ? window.localStorage.getItem(key)\n      : cookies.getObject(key);\n    return r ? JSON.parse(r) : false;\n  },\n  remove: function (key: string) {\n    if (isLocalStorageAvailable()) {\n      window.localStorage.removeItem(key);\n    } else {\n      cookies.remove(key);\n    }\n  },\n};\n","import React from \"react\";\n\nimport { generateUUID, Storage } from \"../util\";\nimport er_game_data from \"../games/er_game_data.json\";\n\nconst data: GameDataShape = er_game_data;\n\ninterface DecisionPoint {\n  id: number;\n  title?: string;\n  type: string; //\"video\" | \"string\",\n  data: string;\n\n  video:\n    | {\n        vimeo_url: string;\n        videojs_url?: string;\n      }\n    | {\n        vimeo_url?: string;\n        videojs_url: string;\n      }\n    | null;\n\n  correct: boolean;\n  feedback: string;\n  message: string;\n  options: {\n    label: string;\n    next: number;\n  }[];\n  next: null;\n}\n\ninterface GameDataShape {\n  decisionpoints: DecisionPoint[];\n}\n\ninterface iGameSave {\n  uuid: string;\n  gamesaved: boolean;\n  subtitles: boolean;\n  fullscreen: boolean;\n  current: number;\n  completed: boolean;\n  videoposition: number;\n  progress: {\n    id: number;\n    label: string;\n    option: number;\n  }[];\n}\n\ninterface HistoryWithPush {\n  push: (path: string) => void;\n}\n\ninterface iRootScope {\n  dataProvider: DecisionPoint[];\n  correctOptions: DecisionPoint[];\n  eventLog: unknown[];\n  sg: iGameSave;\n  resumeURL?: string;\n  saveState: () => void;\n  logGameEvent: (\n    level: any,\n    type: any,\n    target: any,\n    label: any,\n    data: any\n  ) => void;\n  resumeGame: (history: HistoryWithPush) => void;\n}\n\nexport const emptyRootScope = (): iRootScope => ({\n  dataProvider: data.decisionpoints,\n  correctOptions: data.decisionpoints.filter(({ correct }) => correct),\n  eventLog: [],\n  sg: (Storage.getObject(\"prenatal\") as iGameSave | false) || {\n    uuid: generateUUID(),\n    gamesaved: false,\n    subtitles: false,\n    fullscreen: false,\n    current: 0,\n    completed: false,\n    videoposition: 0,\n    progress: [],\n  },\n  resumeURL: undefined,\n  saveState() {\n    Storage.setObject(\"prenatal\", this.sg);\n  },\n  logGameEvent(level: any, type: any, target: any, label: any, data: any) {\n    this.eventLog.push({\n      game: \"app.name\",\n      level: level,\n      type: type,\n      target: target,\n      label: label,\n      data: data,\n      user: this.sg.uuid,\n      datetime: new Date(),\n    });\n\n    console.log(this.eventLog);\n  },\n  resumeGame(history: HistoryWithPush) {\n    var dp = this.dataProvider.find(({ id }) => id === this.sg.current);\n\n    this.resumeURL = \"\";\n\n    if (dp && this.dataProvider.indexOf(dp) === this.dataProvider.length - 1) {\n      history.push(\"/summary/\");\n    } else if (this.sg.videoposition > 0.1) {\n      history.push(\"/video/\");\n    } else {\n      history.push(\"/decision/\");\n    }\n\n    this.logGameEvent(\"\", \"resume\", \"game\", \"\", \"\");\n  },\n});\n\nconst RootScopeContext = React.createContext(emptyRootScope());\nexport default RootScopeContext;\n","import { useContext, useCallback } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport RootScopeContext from \"../controllers/RootScopeContext\";\nimport { getBrowser } from \"../util\";\nimport \"./Menu.scss\";\n\nconst Menu: React.FC<{}> = () => {\n  const history = useHistory();\n\n  const rootScope = useContext(RootScopeContext);\n\n  const startNewGame = useCallback(() => {\n    rootScope.sg.gamesaved = false;\n    rootScope.sg.current = 0;\n    rootScope.sg.completed = false;\n    rootScope.sg.videoposition = 0;\n    rootScope.sg.progress = [];\n\n    history.push(\"/intro/\");\n    rootScope.saveState();\n\n    rootScope.logGameEvent(\"\", \"start\", \"game\", getBrowser(), \"\");\n  }, [rootScope, history]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"panel menu\">\n        <header>\n          <FormattedMessage\n            id=\"Main.title\"\n            defaultMessage=\"ER Virtual Simulation Game\"\n            description=\"Menu page title\"\n            tagName=\"h1\"\n          />\n        </header>\n        <div className=\"main\">\n          <div className=\"content\">\n            <ul className=\"controls\">\n              <li>\n                <button className=\"Link\" onClick={startNewGame}>\n                  <FormattedMessage\n                    id=\"Menu.newGame\"\n                    defaultMessage=\"New Game\"\n                    description=\"New Game Button\"\n                  />\n                </button>\n              </li>\n              <li>\n                <button\n                  className={`Link ${rootScope.sg.gamesaved ? \"active\" : \"disabled\"}`}\n                  onClick={() => rootScope.resumeGame(history)}\n                >\n                  <FormattedMessage\n                    id=\"Menu.resumeGame\"\n                    defaultMessage=\"Resume Game\"\n                    description=\"Resume Game Button\"\n                  />\n                </button>\n              </li>\n              <li>\n                <Link to=\"/objectives/\">\n                  <FormattedMessage\n                    id=\"Menu.objectives\"\n                    defaultMessage=\"Learning Objectives\"\n                    description=\"Objectives Button\"\n                  />\n                </Link>\n              </li>\n              <li>\n                <Link to=\"/settings/\">\n                  <FormattedMessage\n                    id=\"Menu.gameOptions\"\n                    defaultMessage=\"Game Options\"\n                    description=\"Options Button\"\n                  />\n                </Link>\n              </li>\n              <li>\n                <Link to=\"/instructions/\">\n                  <FormattedMessage\n                    id=\"Menu.instructions\"\n                    defaultMessage=\"How to Play\"\n                    description=\"How to Play Button\"\n                  />\n                </Link>\n              </li>\n              <li>\n                <Link to=\"/credits/\">\n                  <FormattedMessage\n                    id=\"Menu.credits\"\n                    defaultMessage=\"Credits\"\n                    description=\"Credits Button\"\n                  />\n                </Link>\n              </li>\n              <li>\n                <Link to=\"../\">\n                  <FormattedMessage\n                    id=\"Menu.exit\"\n                    defaultMessage=\"Exit Game\"\n                    description=\"Exit Game Button\"\n                  />\n                </Link>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Menu;\n","import { FormattedMessage } from \"react-intl\";\nimport { Link } from \"react-router-dom\";\nimport \"./Objectives.scss\";\n\nconst Objectives: React.FC<{}> = () => {\n  return (\n    <div className=\"container\">\n      <div className=\"panel info\">\n        <header>\n          <h1>\n            <Link to=\"/\" aria-label=\"Return to menu\">\n              <span className=\"icon-arrow-left\"></span>\n            </Link>\n            <FormattedMessage\n              id=\"Objectives.title\"\n              defaultMessage=\"Learning Objectives\"\n              description=\"Learning Objectives title\"\n            />\n          </h1>\n        </header>\n        <div className=\"main\">\n          <div className=\"content cf\">\n            <FormattedMessage\n              id=\"objectives.paragraph\"\n              defaultMessage=\"The game promotes the application of knowledge and skills related to the assessment of a prenatal woman.\"\n              description=\"Game objectives intro paragraph\"\n              tagName=\"p\"\n            />\n\n            <FormattedMessage\n              id=\"objectives.paragraph2\"\n              defaultMessage=\"The learning objectives of this simulation game are to: \"\n              description=\"Game objectives second paragraph\"\n              tagName=\"p\"\n            />\n            <ul>\n              <li>\n                Apply knowledge of physical and psychosocial prenatal nursing\n                assessment.\n              </li>\n              <li>\n                Identify normal findings, abnormal variations and potential\n                complications during a prenatal visit.\n              </li>\n              <li>\n                Demonstrate therapeutic interventions when caring for a pregnant\n                woman.\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Objectives;\n","import { useCallback, useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport RootScopeContext from \"../controllers/RootScopeContext\";\nimport \"./Intro.scss\";\n\nconst Intro: React.FC<{}> = () => {\n  const history = useHistory();\n\n  const rootScope = useContext(RootScopeContext);\n  const label = \"Next\";\n\n  const [currentMessage, setCurrentMessage] = useState(0);\n  const intro = [\n    \"You are Nicola Sporoli, a nurse caring for patients in the ambulatory care setting of the ER. Your next patient is Jason, whose chief complaint is ankle pain. The triage nurse took Jason’s vitals 10 minute ago and they were: BP138/88 P 96 (reg) R 20\",\n  ];\n\n  const skipToNext = useCallback(() => {\n    if (currentMessage < intro.length - 1) {\n      setCurrentMessage((n) => n + 1);\n    } else {\n      history.push(\"/video/\");\n    }\n  }, [currentMessage, history, intro.length]);\n\n  const text = intro[currentMessage];\n\n  rootScope.sg.gamesaved = true;\n  rootScope.sg.videoposition = 0;\n  rootScope.saveState();\n\n  return (\n    <div className=\"container\">\n      <div className=\"panel intro\">\n        <div className=\"main\">\n          <div className=\"content\">{text}</div>\n        </div>\n        <footer>\n          <p className=\"controls\">\n            <button className=\"button\" onClick={skipToNext}>\n              {label}\n            </button>\n          </p>\n        </footer>\n      </div>\n    </div>\n  );\n};\n\nexport default Intro;\n","import { useCallback, useContext, useMemo, useState } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport { useHistory } from \"react-router-dom\";\nimport RootScopeContext from \"../controllers/RootScopeContext\";\nimport { useGotoMenu } from \"../util\";\nimport \"./Decision.scss\";\n\nconst Decision: React.FC<{}> = () => {\n  const history = useHistory();\n\n  const rootScope = useContext(RootScopeContext);\n  const gotoMenu = useGotoMenu();\n\n  const dp = rootScope.dataProvider.find(\n    ({ id }) => id === rootScope.sg.current\n  )!;\n\n  rootScope.logGameEvent(\"\", \"show\", \"question\", dp.message, \"\");\n\n  const [randomizedOptions] = useState(dp.options); // TODO shuffle these\n\n  const optionBoxes = useMemo(() => {\n    return randomizedOptions.map((opt) => {\n      const chooseOption = function () {\n        const next = rootScope.dataProvider.find(({ id }) => id === opt.next);\n\n        rootScope.sg.progress.push({\n          id: rootScope.sg.current,\n          label: opt.label,\n          option: opt.next,\n        });\n        rootScope.sg.current = opt.next;\n        rootScope.saveState();\n\n        rootScope.logGameEvent(\n          \"\",\n          \"select\",\n          \"answer\",\n          opt.label,\n          next?.correct ? \"correct\" : \"incorrect\"\n        );\n\n        switch (next?.type) {\n          case \"video\":\n            history.push(\"/video/\");\n            break;\n          case \"lo\":\n            if (next.feedback > \"\") {\n              history.push(\"/feedback/\");\n            } else {\n              history.push(\"/lo/\");\n            }\n            break;\n        }\n\n        // google analytics ???\n      };\n\n      return (\n        <li\n          key={opt.label}\n          className=\"option\"\n          ng-repeat=\"opt in randomizedOptions\"\n        >\n          <button onClick={chooseOption}>{opt.label}</button>\n        </li>\n      );\n    });\n  }, [history, randomizedOptions, rootScope]);\n\n  const replayVideo = useCallback(() => {\n    /*gtag('event', 'video_replayed', {\n      'event_category': 'video',\n      'event_label': $scope.dp.data,\n      'value': $scope.dp.id\n    });*/\n    rootScope.logGameEvent(\"\", \"replay\", \"video\", dp.data, dp.id);\n    history.push(\"/video/\");\n  }, [dp.data, dp.id, history, rootScope]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"left controls\">\n        <button className=\"button button--menu\" onClick={replayVideo}>\n          <FormattedMessage\n            id=\"General.replay\"\n            defaultMessage=\"Replay\"\n            description=\"Replay Video Button\"\n          />\n        </button>\n      </div>\n      <div className=\"right controls\">\n        <button className=\"button button--menu\" onClick={gotoMenu}>\n          <FormattedMessage\n            id=\"General.menu\"\n            defaultMessage=\"Menu\"\n            description=\"Go To Menu Button\"\n          />\n        </button>\n      </div>\n      <div className=\"question\" tabIndex={0}>\n        <div className=\"vertical_outer\">\n          <div className=\"vertical_inner\">{dp?.message}</div>\n        </div>\n      </div>\n      <ul className=\"option_box cf\">{optionBoxes}</ul>\n    </div>\n  );\n};\n\nexport default Decision;\n","import { useEffect, useContext, useCallback, useRef } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport videojs from \"video.js\";\nimport Player from \"@vimeo/player\";\n\nimport RootScopeContext from \"../controllers/RootScopeContext\";\nimport { useGotoMenu } from \"../util\";\n\nimport \"./Video.scss\";\n\nconst Video: React.FC<{}> = () => {\n  const location = useLocation();\n  const history = useHistory();\n\n  const rootScope = useContext(RootScopeContext);\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const iframeRef = useRef<HTMLIFrameElement>(null);\n\n  const dp = rootScope.dataProvider.find(\n    ({ id }) => id === rootScope.sg.current\n  );\n\n  const gotoMenu = useGotoMenu();\n\n  const skipVideo = useCallback(() => {\n    let time = undefined;\n    if (dp?.video?.vimeo_url) {\n    } else if (videoRef.current) {\n      var api = videojs(videoRef.current);\n      api.dispose();\n      time = api?.currentTime();\n    }\n\n    rootScope.sg.videoposition = 0;\n    rootScope.saveState();\n\n    if (\n      dp &&\n      rootScope.dataProvider.indexOf(dp) === rootScope.dataProvider.length - 1\n    ) {\n      rootScope.sg.completed = true;\n      history.push(\"/summary/\");\n    } else if (dp && dp.options.length > 0) {\n      if (dp && dp.feedback > \"\") {\n        history.push(\"/feedback/\");\n      } else {\n        history.push(\"/decision/\");\n      }\n    } else if (dp?.next) {\n      rootScope.sg.videoposition = 0;\n      history.push(\"/lo/\");\n      rootScope.saveState();\n      rootScope.sg.current++;\n    } else {\n      history.push(\"/transition/\");\n      rootScope.sg.current++;\n    }\n    rootScope.logGameEvent(\"\", \"skip\", \"video\", dp?.data, time);\n  }, [dp, history, rootScope]);\n\n  useEffect(() => {\n    if (dp && !dp?.video?.vimeo_url) skipVideo();\n  }, [dp, skipVideo]);\n\n  useEffect(() => {\n    const handleUserKeyPress = (e: KeyboardEvent) => {\n      const video = videoRef.current;\n      if (video) {\n        var api = videojs(video);\n        switch (e.keyCode) {\n          case 27:\n            e.preventDefault();\n            if (location.pathname !== \"/\") {\n              if (api && typeof api.currentTime() != \"undefined\") {\n                rootScope.sg.videoposition = api.currentTime();\n                rootScope.saveState();\n              }\n              history.push(\"/\");\n            } else {\n              history.goBack();\n            }\n            break;\n          case 32:\n            e.preventDefault();\n            if (api) {\n              if (api.paused()) {\n                api.play();\n              } else {\n                api.pause();\n              }\n            }\n            break;\n          case 33:\n            if (api) {\n              api.currentTime(api.currentTime() - 10);\n              api.play();\n            }\n            break;\n          case 34:\n            if (api) {\n              api.currentTime(api.currentTime() + 10);\n              api.play();\n            }\n            break;\n          default:\n            break;\n        }\n      }\n    };\n    window.addEventListener(\"keydown\", handleUserKeyPress);\n    return () => {\n      window.removeEventListener(\"keydown\", handleUserKeyPress);\n    };\n  }, [history, location.pathname, rootScope]);\n\n  useEffect(() => {\n    var iframe = iframeRef.current;\n\n    if (videoRef.current && dp) {\n      const api = videojs(videoRef.current);\n      const clip = {\n        bufferLength: 0,\n        sources: [\n          {\n            type: \"video/mp4\",\n            src: \"_/vid/mp4/\" + dp?.data + \".mp4\",\n          },\n        ],\n        subtitles: [\n          {\n            kind: \"subtitles\",\n            srclang: \"en\",\n            label: \"English\",\n            src: \"_/vid/vtt/en/\" + dp?.data + \".vtt\",\n          },\n        ],\n      };\n      console.log(\"video source\", clip.sources[0].src);\n\n      api.src(clip.sources[0].src);\n\n      // @ts-ignore\n      api.ready((api): void => {\n        if (rootScope.sg.videoposition > 0) {\n          api.currentTime(rootScope.sg.videoposition);\n        }\n        api?.play();\n        rootScope.logGameEvent(\"\", \"start\", \"video\", dp?.data, \"\");\n      });\n\n      api.on(\"progress\", function (e: unknown) {\n        rootScope.sg.videoposition = api.currentTime();\n      });\n\n      api.on(\"pause\", function (e: unknown) {\n        if (api.duration() > api.currentTime() + 0.5) {\n          rootScope.logGameEvent(\n            \"\",\n            \"pause\",\n            \"video\",\n            dp?.data,\n            api.currentTime()\n          );\n        }\n      });\n\n      api.on(\"click\", function togglePause() {\n        var doc = document.getElementById(\"pause\");\n\n        if (api.paused()) {\n          if (doc) {\n            doc.style.display = \"none\";\n          }\n          api.play();\n        } else {\n          if (doc) {\n            doc.style.display = \"block\";\n          }\n          api.pause();\n        }\n      });\n\n      //@ts-ignore\n      api.on(\"ended\", function (e) {\n        skipVideo();\n        rootScope.saveState();\n        rootScope.logGameEvent(\"\", \"finish\", \"video\", dp?.data, \"\");\n      });\n\n      //@ts-ignore\n      api.on(\"error\", function (e) {\n        console.log(e);\n        rootScope.logGameEvent(\"\", \"error\", \"video\", dp?.data, \"\");\n      });\n\n      api.load();\n    } else if (dp && iframe) {\n      var player = new Player(iframe);\n      console.log(\"Setting vimeo listenera\");\n      player.on(\"ended\", function () {\n        console.log(\"vimeo ended\");\n        skipVideo();\n        rootScope.saveState();\n        rootScope.logGameEvent(\"\", \"finish\", \"video\", dp.data, \"\");\n      });\n\n      player.getVideoTitle().then(function (title) {\n        console.log(\"title:\", title);\n      });\n    }\n  }, [dp, rootScope, skipVideo]);\n\n  return (\n    <div className=\"video\">\n      <div className=\"right controls\">\n        <button className=\"button button--menu\" onClick={gotoMenu}>\n          <FormattedMessage\n            id=\"General.menu\"\n            defaultMessage=\"Menu\"\n            description=\"Go To Menu Button\"\n          />\n        </button>\n      </div>\n      <div id=\"player\" className=\"videoplayer functional\">\n        {dp?.video &&\n          (dp.video.vimeo_url ? (\n            <div>\n              <iframe\n                ref={iframeRef}\n                src={dp.video.vimeo_url + \"?autoplay=1\"}\n                frameBorder={0}\n                allow=\"autoplay; fullscreen; picture-in-picture\"\n                allowFullScreen\n                title=\"SG4_DP1_0\"\n              ></iframe>\n            </div>\n          ) : (\n            <video\n              ref={videoRef}\n              id=\"vid-player\"\n              className=\"video-js vjs-big-play-centered\"\n            >\n              Please use a different browser\n            </video>\n          ))}\n\n        <div id=\"pause\">\n          <FormattedMessage\n            id=\"General.pause\"\n            defaultMessage=\"pause\"\n            description=\"pause icon\"\n          />\n          <script src=\"https://player.vimeo.com/api/player.js\"></script>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Video;\n","import { FormattedMessage } from \"react-intl\";\nimport { Link } from \"react-router-dom\";\nimport \"./Credits.scss\";\n\nconst Credits: React.FC<{}> = () => {\n  return (\n    <div className=\"container\">\n      <div className=\"panel credits\">\n        <header>\n          <h1>\n            <Link to=\"/\" aria-label=\"Return to menu\">\n              <span className=\"icon-arrow-left\"></span>\n            </Link>\n            <FormattedMessage\n              id=\"Credits.title\"\n              defaultMessage=\"Credits\"\n              description=\"credits title\"\n            />\n          </h1>\n        </header>\n        <div className=\"main\">\n          <div className=\"content cf\">\n            <h2>Content Providers</h2>\n            <ul>\n              <li>Margaret Verkuyl NP:PHC, MN</li>\n              <li>Dr. Jennifer Lapum, RN, PhD</li>\n              <li>Dr. Oona St-Amant RN, PhD </li>\n              <li>Behi Nikaiin RN MScN</li>\n              <li>Michelle Hughes RN, MEd</li>\n              <li>Dr. Paula Mastrilli RN, PhD</li>\n              <li>Dr. Daria Romaniuk RN, PhD</li>\n              <li>Lorraine Betts RN, MN</li>\n            </ul>\n            <h2>Cast</h2>\n            <ul>\n              <li>Karen Lee</li>\n              <li>Sarah Winstanley</li>\n            </ul>\n\n            <h2>Project Coordination</h2>\n            <ul>\n              <li>Lars Svekis</li>\n              <li>Sushila Parikh</li>\n            </ul>\n            <h2>Game Design & Development</h2>\n            <ul>\n              <li>Igor Karasyov</li>\n              <li>Lucas Michalski</li>\n            </ul>\n            <h2>Video Production</h2>\n            <ul>\n              <li>Daniil Novikov</li>\n              <li>Ilya Emilianov</li>\n              <li>Arseniy Semin</li>\n              <li>Cassandra Ferworn</li>\n              <li>Kelvin Kong</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Credits;\n","import { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport RootScopeContext from \"../controllers/RootScopeContext\";\nimport \"./Instructions.scss\";\n\nconst Instructions: React.FC<{}> = () => {\n  const rootScope = useContext(RootScopeContext);\n\n  const minSteps = rootScope.correctOptions.length;\n\n  return (\n    <div className=\"container\">\n      <div className=\"panel info\">\n        <header>\n          <h1>\n            <Link to=\"/\" aria-label=\"Return to menu\">\n              <span className=\"icon-arrow-left\"></span>\n            </Link>{\" \"}\n            How to Play\n          </h1>\n        </header>\n        <div className=\"main\">\n          <div className=\"content cf\">\n            <p>\n              Watch the video story unfold. You will assume the role of a\n              clinical nurse completing a client assessment.\n            </p>\n            <ul>\n              <li>\n                Occasionally, the video will pause, and you will be asked to\n                respond to questions.{\" \"}\n              </li>\n              <li>\n                Choose your responses carefully because your choices will affect\n                how the story unfolds.{\" \"}\n              </li>\n              <li>\n                The goal is to get to the end of the story, answering as few\n                questions as possible.{\" \"}\n              </li>\n              <li>\n                The best possible result is {minSteps}. You can play this game\n                unlimited times to improve your result.{\" \"}\n              </li>\n              <li>\n                Game play progresses forward only; there is no option to go back\n                to a previous decision point.{\" \"}\n              </li>\n              <li>\n                At the end of the game you will see a summary report of your\n                answers. The summary can be downloaded and saved to your\n                computer.\n              </li>\n              <li>\n                At the end of the game you will have an opportunity to document\n                your assessment and interventions. Once you have completed your\n                documentation, compare your documentation to the one provided.\n                Please note the date/time/names will be different depending on\n                the time you play the game. But, the content should be similar\n                even though the wording may vary.{\" \"}\n              </li>\n              <li>\n                You can pause the game at any time by clicking on the video or\n                pressing the spacebar.\n              </li>\n              <li>\n                You can turn captions on or switch to full-screen, by selecting\n                Game Options from the menu.\n              </li>\n              <li>\n                The game uses high resolution videos, which require high-speed\n                internet to upload easily.\n              </li>\n              <li>The game takes about 20–40 minutes to complete.</li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Instructions;\n","import { useContext, useCallback } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport { useHistory } from \"react-router\";\nimport RootScopeContext from \"../controllers/RootScopeContext\";\nimport \"./Feedback.scss\";\n\nconst Feedback: React.FC<{}> = () => {\n  const history = useHistory();\n\n  const rootScope = useContext(RootScopeContext);\n\n  const dp = rootScope.dataProvider.find(\n    ({ id }) => id === rootScope.sg.current\n  );\n\n  const goNext = useCallback(() => {\n    switch (dp?.type) {\n      case \"video\":\n        history.push(\"/decision/\");\n        break;\n      case \"lo\":\n        history.push(\"/lo/\");\n        break;\n    }\n  }, [dp?.type, history]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"panel feedback\" role=\"alert\">\n        <header>\n          <FormattedMessage\n            id=\"Feedback.title\"\n            defaultMessage=\"Feedback\"\n            description=\"feedback title\"\n            tagName=\"h1\"\n          />\n        </header>\n        <div className=\"main\">{dp?.feedback}</div>\n        <footer>\n          <p className=\"controls\">\n            <button className=\"button\" onClick={goNext}>\n              <FormattedMessage\n                id=\"General.resume\"\n                defaultMessage=\"Resume Game\"\n                description=\"resume game button\"\n              />\n            </button>\n          </p>\n        </footer>\n      </div>\n    </div>\n  );\n};\n\nexport default Feedback;\n","import { Link } from \"react-router-dom\";\nimport \"./Settings.scss\";\n\nconst Settings: React.FC<{}> = () => {\n  const isFullscreen = false;\n  const subtitlesOn = false;\n\n  return (\n    <div className=\"container\">\n      <div className=\"panel settings\">\n        <header>\n          <h1>\n            <Link to=\"/\" aria-label=\"Return to menu\">\n              <span className=\"icon-arrow-left\"></span>\n            </Link>{\" \"}\n            Game Options\n          </h1>\n        </header>\n        <div className=\"main\">\n          <div className=\"content\">\n            <div className=\"cf\">\n              <h2>Display:</h2>\n              <div className=\"radio\">\n                <div>\n                  <input\n                    type=\"radio\"\n                    name=\"display_mode\"\n                    id=\"mode_window\"\n                    ng-model=\"sg.fullscreen\"\n                    ng-value=\"false\"\n                    ng-change=\"toggleFullScreen()\"\n                  />\n                  <label\n                    htmlFor=\"mode_window\"\n                    tabIndex={0}\n                    role=\"radio\"\n                    aria-checked={!isFullscreen}\n                    ng-keydown=\"onFullscreenKeydown($event)\"\n                  >\n                    Window\n                  </label>\n                </div>\n                <div>\n                  <input\n                    type=\"radio\"\n                    name=\"display_mode\"\n                    id=\"mode_fullscreen\"\n                    ng-model=\"sg.fullscreen\"\n                    ng-value=\"true\"\n                    ng-change=\"toggleFullScreen()\"\n                  />\n                  <label\n                    htmlFor=\"mode_fullscreen\"\n                    tabIndex={0}\n                    role=\"radio\"\n                    aria-checked={isFullscreen}\n                    ng-keydown=\"onFullscreenKeydown($event)\"\n                  >\n                    Fullscreen\n                  </label>\n                </div>\n              </div>\n            </div>\n            <br />\n            <div className=\"cf\">\n              <h2>Subtitles:</h2>\n              <div className=\"radio\">\n                <div>\n                  <input\n                    type=\"radio\"\n                    name=\"subtitles\"\n                    id=\"subtitles_off\"\n                    ng-model=\"sg.subtitles\"\n                    ng-value=\"false\"\n                    ng-change=\"saveState()\"\n                  />\n                  <label\n                    htmlFor=\"subtitles_off\"\n                    tabIndex={0}\n                    role=\"radio\"\n                    aria-checked={!subtitlesOn}\n                    ng-keydown=\"onSubtitlesKeydown($event)\"\n                  >\n                    Off\n                  </label>\n                </div>\n                <div>\n                  <input\n                    type=\"radio\"\n                    name=\"subtitles\"\n                    id=\"subtitles_en\"\n                    ng-model=\"sg.subtitles\"\n                    ng-value=\"true\"\n                    ng-change=\"saveState()\"\n                  />\n                  <label\n                    htmlFor=\"subtitles_en\"\n                    tabIndex={0}\n                    role=\"radio\"\n                    aria-checked={subtitlesOn}\n                    ng-keydown=\"onSubtitlesKeydown($event)\"\n                  >\n                    On\n                  </label>\n                </div>\n              </div>\n            </div>\n            {/* <!--<br>\n\t\t\t\t<div className=\"cf\">\n\t\t\t\t\t<h2>Video Quality:</h2>\n\t\t\t\t\t<div className=\"radio\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<input type=\"radio\" name=\"quality\" id=\"quality_720p\"\n\t\t\t\t\t\t\t\tng-model=\"sg.quality\"\n\t\t\t\t\t\t\t\tng-value=\"'-720p'\"\n\t\t\t\t\t\t\t\tng-change=\"saveState()\"/> \n\t\t\t\t\t\t\t<label for=\"quality_720p\">High (720p)</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<input type=\"radio\" name=\"quality\" id=\"quality_360p\"\n\t\t\t\t\t\t\t\tng-model=\"sg.quality\"\n\t\t\t\t\t\t\t\tng-value=\"''\"\n\t\t\t\t\t\t\t\tng-change=\"saveState()\"/> \n\t\t\t\t\t\t\t<label for=\"quality_360p\">Low (360p)</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>--> */}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Settings;\n","import { useContext, useMemo } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport RootScopeContext from \"../controllers/RootScopeContext\";\nimport { useGotoMenu } from \"../util\";\nimport \"./Summary.scss\";\nimport {\n  PDFDownloadLink,\n  Document,\n  Page,\n  Text,\n  Link,\n  View,\n} from \"@react-pdf/renderer\";\nimport { Font } from \"@react-pdf/renderer\";\n\nconst Roboto = require(\"../fnt/Roboto-Regular.ttf\").default as string;\n\nFont.register({\n  family: \"Roboto\",\n  format: \"truetype\",\n  src: Roboto,\n});\n\nconst Summary: React.FC<{}> = () => {\n  const rootScope = useContext(RootScopeContext);\n\n  // const [progress, setProgress] = useState([])\n\n  const goToMenu = useGotoMenu();\n\n  let progress: { question: string; answer: string; correct: boolean }[] =\n    useMemo(() => {\n      progress = [];\n      var i;\n      for (i = 0; i < rootScope.sg.progress.length; i++) {\n        const dp = rootScope.sg.progress[i];\n        const current = rootScope.dataProvider.find(({ id }) => id === dp.id)!;\n        const next = rootScope.dataProvider.find(({ id }) => id === dp.option)!;\n\n        progress.push({\n          question: current.message,\n          answer: dp.label,\n          correct: next.correct,\n        });\n      }\n      return progress;\n    }, [rootScope.dataProvider, rootScope.sg.progress]);\n\n  let message: JSX.Element;\n\n  if (rootScope.sg.completed) {\n    const correct_ratio = (\n      progress.filter(({ correct }) => correct).length / progress.length\n    ).toFixed(2);\n\n    rootScope.logGameEvent(\"\", \"complete\", \"game\", \"\", correct_ratio);\n\n    message = (\n      <>\n        <Text>\n          You have completed the game by answering{\" \"}\n          <Text style={{ fontWeight: \"bold\" }}>\n            {\" \"}\n            {progress.length} questions\n          </Text>\n          .\n        </Text>\n        {progress.length === rootScope.correctOptions.length ? (\n          <Text>\n            You've demonstrated the best possible result! Now play it one more\n            time to make sure it wasn't mere luck :)\n          </Text>\n        ) : (\n          <Text>\n            {\" \"}\n            However, if you give only correct answers it should only take 9\n            questions to complete the scenario. See if you can improve your\n            results next time!{\" \"}\n          </Text>\n        )}\n        <Text>\n          Document this encounter by clicking on the practice documentation\n          icon. There you will find a blank documentation form. Once you are\n          done, compare your documentation to the sample provided.{\" \"}\n        </Text>\n        <Text>\n          If not attending an organized debrief, make sure you download and\n          complete the{\" \"}\n          <Link src=\"/docs/self-assessment.pdf\">self-debriefing questions</Link>{\" \"}\n          to optimise your learning experience. Scroll down to view results.\n        </Text>\n      </>\n    );\n  } else {\n    message = (\n      <Text>\n        You have answered{\" \"}\n        <Text style={{ fontWeight: \"bold\" }}> {progress.length} questions</Text>\n        . To finish the game go to menu and resume the gameplay.\n      </Text>\n    );\n  }\n\n  const pdfContent = useMemo(() => {\n    let responses = progress.map((dp, i) => (\n      <View key={i}>\n        <View>\n          <Text style={{ fontWeight: \"bold\" }}>Q: </Text>\n          <Text>{dp.question}</Text>\n        </View>\n        <View>\n          <Text style={{ fontWeight: \"bold\" }}>A: </Text>\n          <Text\n            style={dp.correct ? { color: \"#009933\" } : { color: \"#cc0000\" }}\n          >\n            {dp.answer} ({dp.correct ? \"Correct\" : \"Incorrect\"})\n          </Text>\n        </View>\n      </View>\n    ));\n    const html = (\n      <Document>\n        <Page>\n          {/* <style\n            dangerouslySetInnerHTML={{\n              __html: `html, body { font-family: Helvetica, Arial, sans-serif; font-size: 14px; line-height: 130%; background-color: #ffffff; color: #000;}\n\t\t\t\t\t\t\th1, h2, p, ol { font-weight: normal; margin-top: 0.3em; margin-bottom: 0.3em; padding-top: 0; padding-bottom: 0; line-height: 130%; color: #000; }`,\n            }}\n          /> */}\n          <View\n            style={{\n              fontFamily: \"Roboto\",\n              fontSize: 14,\n              lineHeight: \"130%\",\n              backgroundColor: \"#ffffff\",\n              color: \"#000\",\n            }}\n          >\n            <Text\n              style={{\n                fontSize: 32,\n                paddingBottom: \"0.3em\",\n                borderBottom: \"2px solid #000000\",\n              }}\n            >\n              Emergency Game Report\n            </Text>\n            <Text style={{ fontSize: 24 }}>Summary</Text>\n            <View>{message}</View>\n            <Text style={{ fontSize: 24 }}>Your Responses</Text>\n            <View>{responses}</View>\n          </View>\n        </Page>\n      </Document>\n    );\n    return html;\n  }, [message, progress]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"right controls\">\n        <button className=\"button button--menu\" onClick={goToMenu}>\n          Menu\n        </button>\n      </div>\n      <div className=\"panel info\">\n        <header>\n          <FormattedMessage\n            id=\"Summary.title\"\n            defaultMessage=\"Congratulations!\"\n            description=\"Summary title\"\n            tagName=\"h1\"\n          />\n        </header>\n        <div className=\"main summary\">\n          <div className=\"content\">\n            <div>{message}</div>\n            <h2 style={{ fontSize: 24 }}>Your Answers:</h2>\n            <ol className=\"responses\">\n              {progress.map((dp) => (\n                <li>\n                  <div>{dp.question}</div>\n                  <div\n                    className={dp.correct ? \"correct\" : \"wrong\"}\n                    style={\n                      dp.correct ? { color: \"#009933\" } : { color: \"#cc0000\" }\n                    }\n                  >\n                    <strong>\n                      {dp.answer} ({dp.correct ? \"Correct\" : \"Incorrect\"})\n                    </strong>\n                  </div>\n                </li>\n              ))}\n            </ol>\n          </div>\n        </div>\n        <footer>\n          <PDFDownloadLink\n            className=\"button\"\n            document={pdfContent}\n            fileName=\"emergency-progress.pdf\"\n          >\n            {({ blob, url, loading, error }) =>\n              loading ? \"Loading document...\" : \"Download Progress Report\"\n            }\n          </PDFDownloadLink>\n\n          <a href=\"/module/_/ui/game/tpl/materials.html\" className=\"button\">\n            {\" \"}\n            Practice Documentation{\" \"}\n          </a>\n        </footer>\n      </div>\n    </div>\n  );\n};\n\nexport default Summary;\n","import { useCallback, useContext } from \"react\";\nimport { FormattedMessage } from \"react-intl\";\nimport { useHistory } from \"react-router\";\nimport RootScopeContext from \"../controllers/RootScopeContext\";\nimport \"./Transition.scss\";\n\nconst Transition: React.FC<{}> = () => {\n  const history = useHistory();\n  const rootScope = useContext(RootScopeContext);\n\n  const dp = rootScope.dataProvider.find(\n    ({ id }) => id === rootScope.sg.current\n  );\n\n  const playNextVideo = useCallback(() => {\n    history.push(\"/video/\");\n  }, [history]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"panel feedback\">\n        <header>\n          <FormattedMessage\n            id=\"Transition.title\"\n            defaultMessage=\"Game Paused\"\n            description=\"game paused transition title\"\n            tagName=\"h1\"\n          />\n        </header>\n        <div className=\"main\">{dp?.feedback}</div>\n        <footer>\n          <p className=\"controls\">\n            <button className=\"Link\" onClick={playNextVideo}>Resume Game</button>\n          </p>\n        </footer>\n      </div>\n    </div>\n  );\n};\n\nexport default Transition;\n","import { FormattedMessage } from \"react-intl\";\nimport \"./Materials.scss\";\n\nconst Materials: React.FC<{}> = () => {\n  return (\n    <body className=\"documentation-container\" ng-controller=\"mainCtrl\">\n      <div className=\"panel feedback\" role=\"alert\">\n        <header>\n          <FormattedMessage\n            id=\"Materials.title\"\n            defaultMessage=\"Materials\"\n            description=\"Materials title\"\n            tagName=\"h1\"\n          />\n        </header>\n\n        <div className=\"right controls\">\n          <a href=\"/module/emergency/game/index.html\" className=\"button menu\">\n            <FormattedMessage\n              id=\"General.home\"\n              defaultMessage=\"Home\"\n              description=\"Home button\"\n            />\n          </a>\n        </div>\n\n        <footer>\n          <div className=\"content\">\n            <h2>Documentation</h2>\n            <a\n              href=\"/docs/Integrated_Patient_Record.pdf\"\n              className=\"button\"\n              download\n            >\n              Download Template\n            </a>\n            <a\n              href=\"/docs/Integrated_Patient_Record_Sample.pdf\"\n              className=\"button\"\n              download\n            >\n              Download Sample\n            </a>\n            <br />\n            <h2>Self-Debrief</h2>\n            <a href=\"/docs/self-assessment.pdf\" className=\"button\" download>\n              Download\n            </a>\n          </div>\n        </footer>\n      </div>\n    </body>\n  );\n};\n\nexport default Materials;\n","import React, { useRef } from \"react\";\n\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { IntlProvider } from \"react-intl\";\n\nimport Menu from \"./pages/Menu\";\nimport \"./App.scss\";\n\nimport enMessages from \"./lang-compiled/en.json\";\nimport frMessages from \"./lang-compiled/fr.json\";\nimport RootScopeContext, {\n  emptyRootScope,\n} from \"./controllers/RootScopeContext\";\n\nimport Objectives from \"./pages/Objectives\";\nimport Intro from \"./pages/Intro\";\nimport Decision from \"./pages/Decision\";\nimport Video from \"./pages/Video\";\nimport Credits from \"./pages/Credits\";\nimport Instructions from \"./pages/Instructions\";\nimport Feedback from \"./pages/Feedback\";\nimport Settings from \"./pages/Settings\";\nimport Summary from \"./pages/Summary\";\nimport Transition from \"./pages/Transition\";\nimport Materials from \"./pages/Materials\";\n\nconst App: React.FC<{}> = () => {\n  const locale = \"en\" as string;\n  const messages = locale === \"fr\" ? frMessages : enMessages;\n\n  const rootScope = useRef(emptyRootScope());\n\n  return (\n    <IntlProvider messages={messages} locale={locale} defaultLocale=\"en\">\n      <Router basename=\"/virtual-healthcare-experience/\">\n        <RootScopeContext.Provider value={rootScope.current}>\n          <div className=\"fullscreen\">\n            <div className=\"view\" role=\"application\">\n              <Switch>\n                <Route path=\"/credits\">\n                  <Credits />\n                </Route>\n\n                <Route path=\"/decision\">\n                  <Decision />\n                </Route>\n\n                <Route path=\"/feedback\">\n                  <Feedback />\n                </Route>\n\n                <Route path=\"/instructions\">\n                  <Instructions />\n                </Route>\n\n                <Route path=\"/intro\">\n                  <Intro />\n                </Route>\n\n                <Route path=\"/materials\">\n                  <Materials />\n                </Route>\n\n                <Route path=\"/objectives\">\n                  <Objectives />\n                </Route>\n\n                <Route path=\"/settings\">\n                  <Settings />\n                </Route>\n\n                <Route path=\"/summary\">\n                  <Summary />\n                </Route>\n\n                <Route path=\"/transition\">\n                  <Transition />\n                </Route>\n\n                <Route path=\"/video\">\n                  <Video />\n                </Route>\n\n                <Route path=\"/\">\n                  <Menu />\n                </Route>\n              </Switch>\n            </div>\n          </div>\n        </RootScopeContext.Provider>\n      </Router>\n    </IntlProvider>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}